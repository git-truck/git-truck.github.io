var D=Object.defineProperty,F=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var x=(t,e,s)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,C=(t,e)=>{for(var s in e||(e={}))S.call(e,s)&&x(t,s,e[s]);if(K)for(var s of K(e))O.call(e,s)&&x(t,s,e[s]);return t},R=(t,e)=>F(t,_(e));var c=(t,e,s)=>(x(t,typeof e!="symbol"?e+"":e,s),s);import{l as B,j as L,r as d,u as z,s as P,h as I,p as U,$ as q,R as W,a as Q}from"./vendor.510b2741.js";const V=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};V();const X="commit",Y="5363d80fe94c65c602e6b8b034ecbab0c4248931",Z="fe565bc952a8f87f8b65c642cac1856798326070",ee=null,te={name:"Jonas Glerup R\xF8ssum",email:"1959615+joglr@users.noreply.github.com",timestamp:1645449550,timezone:"+0100"},se={name:"GitHub",email:"noreply@github.com",timestamp:1645449550,timezone:"+0100"},ae=" ",oe="Update build-and-deploy.yml",ne=[],re={type:"tree",path:"git-visual",name:".",hash:"4f1b56c61271a111fd72c6816cfab3b3c6c48fc5",children:[{type:"tree",path:"git-visual/.github",name:".github",hash:"78b4c788a2cad8ea9d12567a75f8e4d1a1d645f7",children:[{type:"tree",path:"git-visual/.github/workflows",name:"workflows",hash:"0759f14db6949c7b4c35e1738131b34587bb16cb",children:[{type:"blob",hash:"b0bf3397d7c11d52bad66ab8f3cc5f4aa0bfb554",path:"git-visual/.github/workflows/build-and-deploy.yml",name:"build-and-deploy.yml",content:"",authors:{"Jonas Glerup R\xF8ssum":15},noLines:33,noCommits:5}]}]},{type:"blob",hash:"548c91f9b2d2a75723fbdf88e7e6abc8760505c8",path:"git-visual/.gitignore",name:".gitignore",content:"",authors:{"Jonas R\xF8ssum":2,tjomson:3},noLines:2,noCommits:2},{type:"blob",hash:"cce9d3c0801773cf33a36f6e57afe78a06eebb89",path:"git-visual/.prettierrc",name:".prettierrc",content:"",authors:{"Kristoffer H\xF8jelse":3,joglr:3},noLines:3,noCommits:1},{type:"blob",hash:"483a9c42c3c288cca80f49be1a584f507977fc4c",path:"git-visual/.truckignore",name:".truckignore",content:"",authors:{"Thomas Hoffmann Kilbak":1},noLines:1,noCommits:1},{type:"tree",path:"git-visual/.vscode",name:".vscode",hash:"4fac3787ff2fddd81312d761d1cafe7f15594c84",children:[{type:"blob",hash:"fd23abad1b76b7c985cad2e21d0ba0d7fd6b7e45",path:"git-visual/.vscode/launch.json",name:"launch.json",content:"",authors:{"Jonas Glerup R\xF8ssum":5,joglr:25,"Kristoffer H\xF8jelse":25,emiljapelt:25},noLines:24,noCommits:3}]},{type:"blob",hash:"45fd5a057d0d944709b8e665c811a4e716ebdc02",path:"git-visual/README.md",name:"README.md",content:"",authors:{"Kristoffer H\xF8jelse":2},noLines:2,noCommits:1},{type:"tree",path:"git-visual/parser",name:"parser",hash:"a107a3c827c3db685a7d76589b6168034e0d8304",children:[{type:"blob",hash:"9ea49e0da7b2511c1010f8e40c40eb1be0cd48ab",path:"git-visual/parser/.eslintrc.json",name:".eslintrc.json",content:"",authors:{"Thomas Hoffmann Kilbak":1,tjomson:20},noLines:21,noCommits:2},{type:"blob",hash:"1c88792f9497067e58abbbc6ce73c1d573399509",path:"git-visual/parser/.gitignore",name:".gitignore",content:"",authors:{"Jonas R\xF8ssum":1},noLines:4,noCommits:1},{type:"blob",hash:"5f006100d90c00b0b1a52ccffbc8d3133371eb8f",path:"git-visual/parser/README.md",name:"README.md",content:"",authors:{tjomson:21,"Jonas Glerup R\xF8ssum":31,"Jonas R\xF8ssum":17,joglr:2},noLines:38,noCommits:9},{type:"blob",hash:"afe3de487bf296f2aa1bad1a729c8fb149ada9f5",path:"git-visual/parser/package.json",name:"package.json",content:"",authors:{tjomson:26,"Jonas Glerup R\xF8ssum":3,"Thomas Hoffmann Kilbak":2,"Jonas R\xF8ssum":2,joglr:4},noLines:31,noCommits:6},{type:"tree",path:"git-visual/parser/src",name:"src",hash:"b73aad3ecdfd94ef52109545fee96c32ec77252b",children:[{type:"blob",hash:"3623b62d2c022316d4f3d2f5f58b7cb979e88565",path:"git-visual/parser/src/TruckIgnore.ts",name:"TruckIgnore.ts",content:"",authors:{tjomson:10,"Thomas Hoffmann Kilbak":15},noLines:20,noCommits:2},{type:"blob",hash:"6512024344cf5d1ad1709f74b32ebff1948f7bd4",path:"git-visual/parser/src/constants.ts",name:"constants.ts",content:"",authors:{"Thomas Hoffmann Kilbak":1},noLines:1,noCommits:1},{type:"blob",hash:"a2ca2c4bb8b00ee994c11aa2a6dd642dfd99a396",path:"git-visual/parser/src/hydrate.ts",name:"hydrate.ts",content:"",authors:{"Jonas Glerup R\xF8ssum":37,emiljapelt:10},noLines:104,noCommits:3},{type:"blob",hash:"b4fc853d8e2179a4e7bfb84c7cab3228833591c8",path:"git-visual/parser/src/index.ts",name:"index.ts",content:"",authors:{"Jonas Glerup R\xF8ssum":312,joglr:62,"Kristoffer H\xF8jelse":6,emiljapelt:2,"Jonas R\xF8ssum":58,tjomson:61,"Thomas Hoffmann Kilbak":62},noLines:5,noCommits:22},{type:"blob",hash:"2e578b6b19f40216292395fe47f95a0b624e2a2f",path:"git-visual/parser/src/log.ts",name:"log.ts",content:"",authors:{"Jonas Glerup R\xF8ssum":79},noLines:75,noCommits:2},{type:"blob",hash:"37726804f741ece32de0fed640be1cc7c90c9746",path:"git-visual/parser/src/model.ts",name:"model.ts",content:"",authors:{"Jonas Glerup R\xF8ssum":20,emiljapelt:47,joglr:36,"Kristoffer H\xF8jelse":14,"Thomas Hoffmann Kilbak":20,"Jonas R\xF8ssum":20,tjomson:36},noLines:61,noCommits:16},{type:"blob",hash:"2c7a3400e25836853e9ee733190d1fc29765ab1d",path:"git-visual/parser/src/parse.ts",name:"parse.ts",content:"",authors:{"Thomas Hoffmann Kilbak":128,"Jonas Glerup R\xF8ssum":111,emiljapelt:40,joglr:40,"Kristoffer H\xF8jelse":21,"Jonas R\xF8ssum":125},noLines:190,noCommits:20},{type:"blob",hash:"abcf49ce5a63bb188e22abf6a273ee4521c59447",path:"git-visual/parser/src/util.ts",name:"util.ts",content:"",authors:{"Thomas Hoffmann Kilbak":2,"Jonas Glerup R\xF8ssum":237,tjomson:1,joglr:9,"Kristoffer H\xF8jelse":52,emiljapelt:9,"Jonas R\xF8ssum":107},noLines:163,noCommits:23}]},{type:"blob",hash:"1682fb9d708dd99720a5a92c950177468ad00580",path:"git-visual/parser/tsconfig.json",name:"tsconfig.json",content:"",authors:{joglr:7,tjomson:20},noLines:21,noCommits:3}]},{type:"blob",hash:"38bef5ed49d7774c58dd4c6a4784d42d433fda85",path:"git-visual/project-statement.md",name:"project-statement.md",content:"",authors:{"Jonas Glerup R\xF8ssum":43},noLines:43,noCommits:1},{type:"tree",path:"git-visual/prototype1",name:"prototype1",hash:"8fcd003d9e307f4a786b65cf056683ad0aae7501",children:[{type:"blob",hash:"3cb2fbf36df89f91b777b6bcfb6920955831e4fd",path:"git-visual/prototype1/.gitignore",name:".gitignore",content:"",authors:{"Jonas Glerup R\xF8ssum":2,"Kristoffer H\xF8jelse":24,joglr:24},noLines:26,noCommits:2},{type:"blob",hash:"7f5a42da005b478bd3e2f6be42708c0520448658",path:"git-visual/prototype1/README.md",name:"README.md",content:"",authors:{"Jonas Glerup R\xF8ssum":8,"Jonas R\xF8ssum":6,joglr:16},noLines:20,noCommits:4},{type:"blob",hash:"c4142215b63138c07c1648a037f156f93b79f321",path:"git-visual/prototype1/index.html",name:"index.html",content:"",authors:{joglr:23,"Kristoffer H\xF8jelse":23},noLines:13,noCommits:4},{type:"blob",hash:"bb8e28d7805c080b1547851f548169d2befe5f27",path:"git-visual/prototype1/package.json",name:"package.json",content:"",authors:{emiljapelt:2,"Jonas Glerup R\xF8ssum":13,"Thomas Hoffmann Kilbak":2,"Jonas R\xF8ssum":1,"Kristoffer H\xF8jelse":32,joglr:32},noLines:29,noCommits:11},{type:"tree",path:"git-visual/prototype1/src",name:"src",hash:"6925dd3a45a9cbc7386b0f7614ce15457ab15ff5",children:[{type:"blob",hash:"1f3d4872b6ed9813a7e051dc06b79bd27de25da7",path:"git-visual/prototype1/src/App.css",name:"App.css",content:"",authors:{emiljapelt:27,"Jonas Glerup R\xF8ssum":47,"Thomas Hoffmann Kilbak":43,joglr:57,"Kristoffer H\xF8jelse":57},noLines:54,noCommits:5},{type:"blob",hash:"186541b91a1266fdda953e5b7663168700a9db66",path:"git-visual/prototype1/src/App.tsx",name:"App.tsx",content:"",authors:{emiljapelt:290,"Jonas Glerup R\xF8ssum":381,"Kristoffer H\xF8jelse":799,joglr:799,"Jonas R\xF8ssum":6},noLines:25,noCommits:29},{type:"blob",hash:"157fbd7832443491c68b2c443f94ea018bf07237",path:"git-visual/prototype1/src/colors.ts",name:"colors.ts",content:"",authors:{emiljapelt:140,"Jonas Glerup R\xF8ssum":14,"Kristoffer H\xF8jelse":2},noLines:91,noCommits:4},{type:"tree",path:"git-visual/prototype1/src/components",name:"components",hash:"9d06442fde32b6eeddb0d62b0a3b47196a7ef1d8",children:[{type:"blob",hash:"a20bdd12b0605b33d97f6cea81eb1a4451b62378",path:"git-visual/prototype1/src/components/BubbleChart.tsx",name:"BubbleChart.tsx",content:"",authors:{emiljapelt:218,"Jonas Glerup R\xF8ssum":218},noLines:218,noCommits:1},{type:"blob",hash:"ec906fe70decce01a8d81184e771edde9d27199d",path:"git-visual/prototype1/src/components/MetricSelect.tsx",name:"MetricSelect.tsx",content:"",authors:{emiljapelt:23,"Jonas Glerup R\xF8ssum":23},noLines:23,noCommits:1}]},{type:"blob",hash:"1951a0e949ce468ac02685fcfcb4086241c101fe",path:"git-visual/prototype1/src/const.ts",name:"const.ts",content:"",authors:{emiljapelt:2,"Jonas Glerup R\xF8ssum":2},noLines:2,noCommits:1},{type:"blob",hash:"6cd5355c44ad06736e34b3c1d23a83c35d6ad5dc",path:"git-visual/prototype1/src/data.ts",name:"data.ts",content:"",authors:{"Jonas Glerup R\xF8ssum":3,joglr:140,"Kristoffer H\xF8jelse":140,emiljapelt:4,"Jonas R\xF8ssum":138},noLines:5,noCommits:7},{type:"blob",hash:"20e450f2b6ec1525a399f91e72ce950e994fd774",path:"git-visual/prototype1/src/expand-tree.ts",name:"expand-tree.ts",content:"",authors:{"Kristoffer H\xF8jelse":10,joglr:10},noLines:10,noCommits:1},{type:"blob",hash:"3a264444ada2c4038887104bcb52f57eb85e72ca",path:"git-visual/prototype1/src/index.css",name:"index.css",content:"",authors:{"Jonas Glerup R\xF8ssum":9,"Kristoffer H\xF8jelse":13,joglr:13},noLines:22,noCommits:2},{type:"blob",hash:"606a3cf44ec02bf1c481354445f110f547f5cec2",path:"git-visual/prototype1/src/main.tsx",name:"main.tsx",content:"",authors:{"Kristoffer H\xF8jelse":11,joglr:11},noLines:11,noCommits:1},{type:"blob",hash:"e3c0c374ce9ae392969f9ebbc62bf7ced3af2ae0",path:"git-visual/prototype1/src/metrics.ts",name:"metrics.ts",content:"",authors:{emiljapelt:6,"Jonas Glerup R\xF8ssum":6},noLines:6,noCommits:1},{type:"blob",hash:"11f02fe2a0061d6e6e1f271b21da95423b448b32",path:"git-visual/prototype1/src/vite-env.d.ts",name:"vite-env.d.ts",content:"",authors:{"Kristoffer H\xF8jelse":1,joglr:1},noLines:1,noCommits:1}]},{type:"blob",hash:"3d0a51a86e202419758206adb6effe775229ba38",path:"git-visual/prototype1/tsconfig.json",name:"tsconfig.json",content:"",authors:{joglr:39,"Kristoffer H\xF8jelse":39},noLines:21,noCommits:3},{type:"blob",hash:"e993792cb12c9d8223f5a731f2d662ab553180f2",path:"git-visual/prototype1/tsconfig.node.json",name:"tsconfig.node.json",content:"",authors:{"Jonas Glerup R\xF8ssum":15,emiljapelt:17,"Kristoffer H\xF8jelse":8,joglr:8},noLines:8,noCommits:4},{type:"blob",hash:"b1b5f91e5ffd7f66fc94356a571e3c60a689c4e5",path:"git-visual/prototype1/vite.config.ts",name:"vite.config.ts",content:"",authors:{"Kristoffer H\xF8jelse":7,joglr:7},noLines:7,noCommits:1}]}]},ie=1,le=29;var ce={type:X,hash:Y,parent:Z,parent2:ee,author:te,committer:se,message:ae,description:oe,coauthors:ne,tree:re,minNoCommits:ie,maxNoCommits:le};const me=ce;var u=(t=>(t.FileExtension="File extension",t.HeatMap="Heat map",t.ColdMap="Cold map",t.Dominated="Dominated files",t))(u||{});const j=30,he=5;function de(t){let e=B.ext(t.name.substring(t.name.lastIndexOf(".")+1));return typeof e=="undefined"?"grey":e.color}const pe=[["joglr","Jonas Glerup R\xF8ssum","Jonas R\xF8ssum"],["tjomson","Thomas Hoffmann Kilbak","Thomas Kilbak"],["hojelse","Kristoffer H\xF8jelse"],["emiljapelt","Emil J\xE4pelt"]];function k(t){return Object.entries(t.authors).reduce((e,[s,l])=>{const o=pe.find(m=>m.includes(s));if(!o)throw Error("Author not found: "+s);const[n]=o;return delete e[s],e[n]=e[n]||0,e[n]+=l,e},t.authors)}function ue(t){switch(Object.keys(k(t)).length){case 1:return"red";default:return"cadetblue"}}class w{constructor(e,s,l,o){c(this,"scale");c(this,"offset");c(this,"target_max");c(this,"target_min");this.scale=(o-l)/(s-e),this.offset=e*this.scale-l,this.target_max=o,this.target_min=l}translate(e){return e*this.scale-this.offset}inverseTranslate(e){return this.target_max-this.translate(e)+this.target_min}}class fe{constructor(e,s){c(this,"translator");c(this,"min_lightness",35);c(this,"max_lightness",90);this.translator=new w(e,s,this.min_lightness,this.max_lightness)}getColor(e){return`hsl(240,100%,${this.translator.translate(e.noCommits)}%)`}}class be{constructor(e,s){c(this,"translator");c(this,"min_lightness",30);c(this,"max_lightness",95);this.translator=new w(e,s,this.min_lightness,this.max_lightness)}getColor(e){return`hsl(0,100%,${this.translator.inverseTranslate(e.noCommits)}%)`}}const i=L.exports.jsx,p=L.exports.jsxs,ge=L.exports.Fragment;function ye(t){const[e,s]=d.exports.useState(null),l=d.exports.useMemo(()=>new be(t.data.minNoCommits,t.data.maxNoCommits),[t.data.minNoCommits,t.data.maxNoCommits]),o=d.exports.useMemo(()=>new fe(t.data.minNoCommits,t.data.maxNoCommits),[t.data.minNoCommits,t.data.maxNoCommits]);let n=d.exports.useRef(null),m=d.exports.useRef(null),y=z(0,0),b={height:y.height-j*2,width:y.width-j*2};function H(h){let r=h.target.__data__.data;r&&r.type==="blob"&&s(r)}function E(h,r,f,G){let M=h.tree,T=I(M).sum(a=>a.noLines).sort((a,g)=>g.value!==void 0&&a.value!==void 0?g.value-a.value:0),$=U().size([r.width,r.height]).padding(j)(T);const v=f.selectAll("circle.node").data($).enter().append("g").classed("entry",!0),N=v.append("circle");function A(a,g){switch(g){case u.Dominated:return ue(a);case u.FileExtension:return de(a);case u.HeatMap:return l.getColor(a);case u.ColdMap:return o.getColor(a);default:throw new Error(`Metric option is invalid: ${g}`)}}N.classed("node",!0).attr("cx",a=>a.x).attr("cy",a=>a.y).attr("r",a=>a.r).style("fill",a=>a.data.type==="blob"?A(a.data,G):"none").enter();const J=v.append("path");J.attr("d",a=>je(a.x,a.y,a.r+he)).classed("name-path",!0).attr("cx",a=>a.x).attr("cy",a=>a.y).attr("r",a=>a.r).attr("id",a=>a.data.path),new URL(window.location.toString()).searchParams.get("debug")==="true"&&J.classed("name-path debug",!0),v.append("text").append("textPath").attr("startOffset","50%").attr("dominant-baseline","bottom").attr("text-anchor","middle").attr("xlink:href",a=>`#${a.data.path}`).text(a=>a.data.name).style("font-size","0.8em").style("font-weight",a=>a.data.type==="tree"?"bold":"normal")}return d.exports.useEffect(()=>{const r=P(m.current).append("g");E(t.data,b,r,t.metric);let f=r.node();return f&&f.addEventListener("click",H),()=>{f&&f.removeEventListener("click",H),r.remove()}},[b,t.metric]),p("div",{className:"container",children:[i("svg",R(C({className:"visualization"},b),{ref:m,xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${b.width} ${b.height}`})),e!==null?p("div",{ref:n,className:"legend box",children:[i("b",{style:{fontSize:"1.5rem"},children:e.name}),p("div",{children:["Number of lines: ",e.noLines]}),i("div",{children:"Author distribution:"}),i("br",{}),Object.entries(ve(e)).sort((h,r)=>h[1]<r[1]?1:-1).map(([h,r])=>p("div",{children:[p("b",{children:[h,":"]})," ",(r*100).toFixed(2),"%"]},`${h}${r}`))]}):null]})}function je(t,e,s){return`M${t},${e}
          m0,${s}
          a${s},${s} 0 1,1 0,${-s*2}
          a${s},${s} 0 1,1 0,${s*2}`}function ve(t){const e=k(t),s=Object.values(e).reduce((o,n)=>o+n,0);return Object.entries(e).reduce((o,[n,m])=>{const y=m/s;return R(C({},o),{[n]:y})},{})}function xe(t){let e=q();return p("div",{className:"stack",children:[i("label",{className:"option-text",htmlFor:e,children:"Color metric"}),i("select",{id:e,onChange:s=>t.onChange(s.target.value),children:Object.values(u).map(s=>i("option",{value:s,children:s},s))})]})}document.documentElement.style.setProperty("--padding",`${j}px`);function Ce(){const[t,e]=d.exports.useState(u.FileExtension);return p(ge,{children:[i(ye,{data:me,metric:t}),i("div",{className:"box options",children:i(xe,{onChange:s=>e(s)})})]})}W.render(i(Q.StrictMode,{children:i(Ce,{})}),document.getElementById("root"));
