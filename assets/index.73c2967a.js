var K=Object.defineProperty,E=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var y=(o,e,t)=>e in o?K(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,j=(o,e)=>{for(var t in e||(e={}))w.call(e,t)&&y(o,t,e[t]);if(x)for(var t of x(e))k.call(e,t)&&y(o,t,e[t]);return o},v=(o,e)=>E(o,J(e));var l=(o,e,t)=>(y(o,typeof e!="symbol"?e+"":e,t),t);import{j as R,r as b,u as T,s as A,h as G,p as M,R as $,a as P}from"./vendor.9eb029f0.js";const N=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}};N();const O="commit",_="ee2d9dd0ade48640396989ed306f32fb2319b1f5",D="4ed4571a35990b01aeda2873b1434872565ce00b",F=null,I={name:"Jonas Glerup R\xF8ssum",email:"1959615+joglr@users.noreply.github.com",timestamp:1645446165,timezone:"+0100"},z={name:"GitHub",email:"noreply@github.com",timestamp:1645446165,timezone:"+0100"},S=" ",B=`Main branch preview (#135)

* Create gh-pages.yml\r
* Update package.json\r
* Only run on push to main`,U=[],V={type:"tree",path:"git-visual",name:".",hash:"6010d537c21d07cf89844e9a236b1da36f411f60",children:[{type:"tree",path:"git-visual/.github",name:".github",hash:"d3031b11c76296b4f37db937dd898dead4c2468e",children:[{type:"tree",path:"git-visual/.github/workflows",name:"workflows",hash:"dffc032c6308bc495f8795a6e309b17d1ac89f94",children:[{type:"blob",hash:"525f6828f7c814563fafea649ea9a1a8bf6fc391",path:"git-visual/.github/workflows/gh-pages.yml",name:"gh-pages.yml",content:"",authors:{"Jonas Glerup R\xF8ssum":32},noLines:32,noCommits:1}]}]},{type:"blob",hash:"548c91f9b2d2a75723fbdf88e7e6abc8760505c8",path:"git-visual/.gitignore",name:".gitignore",content:"",authors:{"Jonas R\xF8ssum":2,tjomson:3},noLines:2,noCommits:2},{type:"blob",hash:"cce9d3c0801773cf33a36f6e57afe78a06eebb89",path:"git-visual/.prettierrc",name:".prettierrc",content:"",authors:{"Kristoffer H\xF8jelse":3,joglr:3},noLines:3,noCommits:1},{type:"blob",hash:"483a9c42c3c288cca80f49be1a584f507977fc4c",path:"git-visual/.truckignore",name:".truckignore",content:"",authors:{"Thomas Hoffmann Kilbak":1},noLines:1,noCommits:1},{type:"tree",path:"git-visual/.vscode",name:".vscode",hash:"4fac3787ff2fddd81312d761d1cafe7f15594c84",children:[{type:"blob",hash:"fd23abad1b76b7c985cad2e21d0ba0d7fd6b7e45",path:"git-visual/.vscode/launch.json",name:"launch.json",content:"",authors:{"Jonas Glerup R\xF8ssum":5,joglr:25,"Kristoffer H\xF8jelse":25,emiljapelt:25},noLines:24,noCommits:3}]},{type:"blob",hash:"45fd5a057d0d944709b8e665c811a4e716ebdc02",path:"git-visual/README.md",name:"README.md",content:"",authors:{"Kristoffer H\xF8jelse":2},noLines:2,noCommits:1},{type:"tree",path:"git-visual/parser",name:"parser",hash:"2919ef7e0d656eb326182446097bb381a2b64e1e",children:[{type:"blob",hash:"9ea49e0da7b2511c1010f8e40c40eb1be0cd48ab",path:"git-visual/parser/.eslintrc.json",name:".eslintrc.json",content:"",authors:{"Thomas Hoffmann Kilbak":1,tjomson:20},noLines:21,noCommits:2},{type:"blob",hash:"1c88792f9497067e58abbbc6ce73c1d573399509",path:"git-visual/parser/.gitignore",name:".gitignore",content:"",authors:{"Jonas R\xF8ssum":1},noLines:4,noCommits:1},{type:"blob",hash:"5f006100d90c00b0b1a52ccffbc8d3133371eb8f",path:"git-visual/parser/README.md",name:"README.md",content:"",authors:{tjomson:21,"Jonas Glerup R\xF8ssum":31,"Jonas R\xF8ssum":17,joglr:2},noLines:38,noCommits:9},{type:"blob",hash:"afe3de487bf296f2aa1bad1a729c8fb149ada9f5",path:"git-visual/parser/package.json",name:"package.json",content:"",authors:{tjomson:26,"Jonas Glerup R\xF8ssum":3,"Thomas Hoffmann Kilbak":2,"Jonas R\xF8ssum":2,joglr:4},noLines:31,noCommits:6},{type:"tree",path:"git-visual/parser/src",name:"src",hash:"739a4061e8daf0490e5a8f8cfd16258739251eb7",children:[{type:"blob",hash:"3623b62d2c022316d4f3d2f5f58b7cb979e88565",path:"git-visual/parser/src/TruckIgnore.ts",name:"TruckIgnore.ts",content:"",authors:{tjomson:10,"Thomas Hoffmann Kilbak":15},noLines:20,noCommits:2},{type:"blob",hash:"6512024344cf5d1ad1709f74b32ebff1948f7bd4",path:"git-visual/parser/src/constants.ts",name:"constants.ts",content:"",authors:{"Thomas Hoffmann Kilbak":1},noLines:1,noCommits:1},{type:"blob",hash:"a2ca2c4bb8b00ee994c11aa2a6dd642dfd99a396",path:"git-visual/parser/src/hydrate.ts",name:"hydrate.ts",content:"",authors:{"Jonas Glerup R\xF8ssum":37,emiljapelt:10},noLines:104,noCommits:3},{type:"blob",hash:"b4fc853d8e2179a4e7bfb84c7cab3228833591c8",path:"git-visual/parser/src/index.ts",name:"index.ts",content:"",authors:{"Jonas Glerup R\xF8ssum":312,joglr:62,"Kristoffer H\xF8jelse":6,emiljapelt:2,"Jonas R\xF8ssum":58,tjomson:61,"Thomas Hoffmann Kilbak":62},noLines:5,noCommits:22},{type:"blob",hash:"2e578b6b19f40216292395fe47f95a0b624e2a2f",path:"git-visual/parser/src/log.ts",name:"log.ts",content:"",authors:{"Jonas Glerup R\xF8ssum":79},noLines:75,noCommits:2},{type:"blob",hash:"37726804f741ece32de0fed640be1cc7c90c9746",path:"git-visual/parser/src/model.ts",name:"model.ts",content:"",authors:{"Jonas Glerup R\xF8ssum":20,emiljapelt:47,joglr:36,"Kristoffer H\xF8jelse":14,"Thomas Hoffmann Kilbak":20,"Jonas R\xF8ssum":20,tjomson:36},noLines:61,noCommits:16},{type:"blob",hash:"70647f36c86856b2b6a83cbc5b2d412f374a0194",path:"git-visual/parser/src/parse.ts",name:"parse.ts",content:"",authors:{"Thomas Hoffmann Kilbak":120,"Jonas Glerup R\xF8ssum":111,emiljapelt:40,joglr:40,"Kristoffer H\xF8jelse":21,"Jonas R\xF8ssum":125},noLines:196,noCommits:19},{type:"blob",hash:"005db80dfdd06aef1237638ce6fd1f7d0f81173d",path:"git-visual/parser/src/util.ts",name:"util.ts",content:"",authors:{tjomson:1,"Jonas Glerup R\xF8ssum":231,joglr:9,"Kristoffer H\xF8jelse":52,emiljapelt:9,"Jonas R\xF8ssum":107},noLines:159,noCommits:21}]},{type:"blob",hash:"1682fb9d708dd99720a5a92c950177468ad00580",path:"git-visual/parser/tsconfig.json",name:"tsconfig.json",content:"",authors:{joglr:7,tjomson:20},noLines:21,noCommits:3}]},{type:"blob",hash:"38bef5ed49d7774c58dd4c6a4784d42d433fda85",path:"git-visual/project-statement.md",name:"project-statement.md",content:"",authors:{"Jonas Glerup R\xF8ssum":43},noLines:43,noCommits:1},{type:"tree",path:"git-visual/prototype1",name:"prototype1",hash:"c4228a8e0fb7b3518de62325a1483fafbace8fd0",children:[{type:"blob",hash:"3cb2fbf36df89f91b777b6bcfb6920955831e4fd",path:"git-visual/prototype1/.gitignore",name:".gitignore",content:"",authors:{"Jonas Glerup R\xF8ssum":2,"Kristoffer H\xF8jelse":24,joglr:24},noLines:26,noCommits:2},{type:"blob",hash:"7f5a42da005b478bd3e2f6be42708c0520448658",path:"git-visual/prototype1/README.md",name:"README.md",content:"",authors:{"Jonas Glerup R\xF8ssum":8,"Jonas R\xF8ssum":6,joglr:16},noLines:20,noCommits:4},{type:"blob",hash:"c4142215b63138c07c1648a037f156f93b79f321",path:"git-visual/prototype1/index.html",name:"index.html",content:"",authors:{joglr:23,"Kristoffer H\xF8jelse":23},noLines:13,noCommits:4},{type:"blob",hash:"be57bc2c665cf32ddc3fcbc46952409bdde26af7",path:"git-visual/prototype1/package.json",name:"package.json",content:"",authors:{"Jonas Glerup R\xF8ssum":12,"Thomas Hoffmann Kilbak":2,emiljapelt:1,"Jonas R\xF8ssum":1,"Kristoffer H\xF8jelse":32,joglr:32},noLines:28,noCommits:10},{type:"tree",path:"git-visual/prototype1/src",name:"src",hash:"eaaace3bd986387d0206f18e53ba6ab873d36a72",children:[{type:"blob",hash:"57c926f7b539c67df6c0b1f39354435abcb03f9f",path:"git-visual/prototype1/src/App.css",name:"App.css",content:"",authors:{"Jonas Glerup R\xF8ssum":20,"Thomas Hoffmann Kilbak":43,joglr:57,"Kristoffer H\xF8jelse":57},noLines:33,noCommits:4},{type:"blob",hash:"c62022566b371a1f7296720a612e425c77dc1a32",path:"git-visual/prototype1/src/App.tsx",name:"App.tsx",content:"",authors:{"Jonas Glerup R\xF8ssum":162,"Kristoffer H\xF8jelse":580,emiljapelt:71,joglr:580,"Jonas R\xF8ssum":6},noLines:216,noCommits:28},{type:"blob",hash:"c80b7a9bf1c8065b0b3cac2b9636792d3f14ac2f",path:"git-visual/prototype1/src/colors.ts",name:"colors.ts",content:"",authors:{"Kristoffer H\xF8jelse":2,emiljapelt:126},noLines:91,noCommits:3},{type:"blob",hash:"6cd5355c44ad06736e34b3c1d23a83c35d6ad5dc",path:"git-visual/prototype1/src/data.ts",name:"data.ts",content:"",authors:{"Jonas Glerup R\xF8ssum":3,joglr:140,"Kristoffer H\xF8jelse":140,emiljapelt:4,"Jonas R\xF8ssum":138},noLines:5,noCommits:7},{type:"blob",hash:"20e450f2b6ec1525a399f91e72ce950e994fd774",path:"git-visual/prototype1/src/expand-tree.ts",name:"expand-tree.ts",content:"",authors:{"Kristoffer H\xF8jelse":10,joglr:10},noLines:10,noCommits:1},{type:"blob",hash:"3a264444ada2c4038887104bcb52f57eb85e72ca",path:"git-visual/prototype1/src/index.css",name:"index.css",content:"",authors:{"Jonas Glerup R\xF8ssum":9,"Kristoffer H\xF8jelse":13,joglr:13},noLines:22,noCommits:2},{type:"blob",hash:"606a3cf44ec02bf1c481354445f110f547f5cec2",path:"git-visual/prototype1/src/main.tsx",name:"main.tsx",content:"",authors:{"Kristoffer H\xF8jelse":11,joglr:11},noLines:11,noCommits:1},{type:"blob",hash:"11f02fe2a0061d6e6e1f271b21da95423b448b32",path:"git-visual/prototype1/src/vite-env.d.ts",name:"vite-env.d.ts",content:"",authors:{"Kristoffer H\xF8jelse":1,joglr:1},noLines:1,noCommits:1}]},{type:"blob",hash:"3d0a51a86e202419758206adb6effe775229ba38",path:"git-visual/prototype1/tsconfig.json",name:"tsconfig.json",content:"",authors:{joglr:39,"Kristoffer H\xF8jelse":39},noLines:21,noCommits:3},{type:"blob",hash:"e993792cb12c9d8223f5a731f2d662ab553180f2",path:"git-visual/prototype1/tsconfig.node.json",name:"tsconfig.node.json",content:"",authors:{"Jonas Glerup R\xF8ssum":15,emiljapelt:17,"Kristoffer H\xF8jelse":8,joglr:8},noLines:8,noCommits:4},{type:"blob",hash:"b1b5f91e5ffd7f66fc94356a571e3c60a689c4e5",path:"git-visual/prototype1/vite.config.ts",name:"vite.config.ts",content:"",authors:{"Kristoffer H\xF8jelse":7,joglr:7},noLines:7,noCommits:1}]}]},W=1,Y=28;var q={type:O,hash:_,parent:D,parent2:F,author:I,committer:z,message:S,description:B,coauthors:U,tree:V,minNoCommits:W,maxNoCommits:Y};const Q=q,X=[["joglr","Jonas Glerup R\xF8ssum","Jonas R\xF8ssum"],["tjomson","Thomas Hoffmann Kilbak","Thomas Kilbak"],["hojelse","Kristoffer H\xF8jelse"],["emiljapelt","Emil J\xE4pelt"]];function L(o){return Object.entries(o.authors).reduce((e,[t,c])=>{const a=X.find(i=>i.includes(t));if(!a)throw Error("Author not found: "+t);const[n]=a;return delete e[t],e[n]=e[n]||0,e[n]+=c,e},o.authors)}function Z(o){switch(Object.keys(L(o)).length){case 1:return"red";default:return"cadetblue"}}class H{constructor(e,t,c,a){l(this,"scale");l(this,"offset");l(this,"target_max");l(this,"target_min");this.scale=(a-c)/(t-e),this.offset=e*this.scale-c,this.target_max=a,this.target_min=c}translate(e){return e*this.scale-this.offset}inverseTranslate(e){return this.target_max-this.translate(e)+this.target_min}}class ee{constructor(e,t){l(this,"translator");l(this,"min_lightness",35);l(this,"max_lightness",90);this.translator=new H(e,t,this.min_lightness,this.max_lightness)}getColor(e){return`hsl(240,100%,${this.translator.translate(e.noCommits)}%)`}}class te{constructor(e,t){l(this,"translator");l(this,"min_lightness",30);l(this,"max_lightness",95);this.translator=new H(e,t,this.min_lightness,this.max_lightness)}getColor(e){return`hsl(0,100%,${this.translator.inverseTranslate(e.noCommits)}%)`}}const p=R.exports.jsx,d=R.exports.jsxs,g=30,se=5;document.documentElement.style.setProperty("--padding",`${g}px`);function oe(){return p(ae,{data:Q})}function ae({data:o}){const[e,t]=b.exports.useState(null);let c=b.exports.useRef(null),a=b.exports.useRef(null),n=T(0,0),i={height:n.height-g*2,width:n.width-g*2};function m(h){let r=h.target.__data__.data;r&&r.type==="blob"&&t(r)}return b.exports.useEffect(()=>{const r=A(a.current).append("g");ne(o,i,r);let f=r.node();return f&&f.addEventListener("click",m),()=>{f&&f.removeEventListener("click",m),r.remove()}},[i]),d("div",{className:"container",children:[p("svg",v(j({className:"visualization"},i),{ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${i.width} ${i.height}`})),e!==null?d("div",{ref:c,className:"legend",children:[p("b",{style:{fontSize:"1.5rem"},children:e.name}),d("div",{children:["Number of lines: ",e.noLines]}),p("div",{children:"Author distribution:"}),p("br",{}),Object.entries(ie(e)).sort((h,r)=>h[1]<r[1]?1:-1).map(([h,r])=>d("div",{children:[d("b",{children:[h,":"]})," ",(r*100).toFixed(2),"%"]}))]}):null]})}function ne(o,e,t){let c=o.tree,a=G(c).sum(s=>s.noLines).sort((s,u)=>u.value!==void 0&&s.value!==void 0?u.value-s.value:0),i=M().size([e.width,e.height]).padding(g)(a);const m=t.selectAll("circle.node").data(i).enter().append("g").classed("entry",!0),h=m.append("circle"),r={TRUCKFACTOR:1,FILETYPE:2,HEATMAP:3,COLDMAP:4};function f(s,u){switch(u){case r.TRUCKFACTOR:return Z(s);case r.FILETYPE:throw new Error("Color function for view: VIEW.FILETYPE is not yet implemented");case r.HEATMAP:return new te(o.minNoCommits,o.maxNoCommits).getColor(s);case r.COLDMAP:return new ee(o.minNoCommits,o.maxNoCommits).getColor(s);default:throw new Error(`View option is invalid: ${u}`)}}h.classed("node",!0).attr("cx",s=>s.x).attr("cy",s=>s.y).attr("r",s=>s.r).style("fill",s=>s.data.type==="blob"?f(s.data,r.HEATMAP):"none").enter();const C=m.append("path");C.attr("d",s=>re(s.x,s.y,s.r+se)).classed("name-path",!0).attr("cx",s=>s.x).attr("cy",s=>s.y).attr("r",s=>s.r).attr("id",s=>s.data.path),new URL(window.location.toString()).searchParams.get("debug")==="true"&&C.classed("name-path debug",!0),m.append("text").append("textPath").attr("startOffset","50%").attr("dominant-baseline","bottom").attr("text-anchor","middle").attr("xlink:href",s=>`#${s.data.path}`).text(s=>s.data.name).style("font-size","0.8em").style("font-weight",s=>s.data.type==="tree"?"bold":"normal")}function re(o,e,t){return`M${o},${e}
          m0,${t}
          a${t},${t} 0 1,1 0,${-t*2}
          a${t},${t} 0 1,1 0,${t*2}`}function ie(o){const e=L(o),t=Object.values(e).reduce((a,n)=>a+n,0);return Object.entries(e).reduce((a,[n,i])=>{const m=i/t;return v(j({},a),{[n]:m})},{})}$.render(p(P.StrictMode,{children:p(oe,{})}),document.getElementById("root"));
